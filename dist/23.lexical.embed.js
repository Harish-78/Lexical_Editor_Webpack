"use strict";(self.webpackChunkeditor_webpack=self.webpackChunkeditor_webpack||[]).push([[23],{6023:(n,r,e)=>{e.r(r),e.d(r,{default:()=>j});var o=e(5544),t=e(4439),i=e(3105),a=e(8832),c=e(6540),s=e(4740),u=e(5072),d=e.n(u),l=e(7825),A=e.n(l),E=e(7659),f=e.n(E),g=e(5056),h=e.n(g),C=e(540),b=e.n(C),m=e(1113),p=e.n(m),q=e(2993),k={};k.styleTagTransform=p(),k.setAttributes=h(),k.insert=f().bind(null,"head"),k.domAPI=A(),k.insertStyleElement=b(),d()(q.A,k),q.A&&q.A.locals&&q.A.locals;var S=e(4848);function _(n,r){var e=n.equation,o=n.setEquation,t=function(n){o(n.target.value)};return n.inline&&r instanceof HTMLInputElement?(0,S.jsxs)("span",{className:"EquationEditor_inputBackground",children:[(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"$"}),(0,S.jsx)("input",{className:"EquationEditor_inlineEditor",value:e,onChange:t,autoFocus:!0,ref:r}),(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"$"})]}):(0,S.jsxs)("div",{className:"EquationEditor_inputBackground",children:[(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"$$\n"}),(0,S.jsx)("textarea",{className:"EquationEditor_blockEditor",value:e,onChange:t,ref:r}),(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"\n$$"})]})}const v=(0,c.forwardRef)(_);var x=e(9034),B=e(231);function j(n){var r=n.equation,e=n.inline,u=n.nodeKey,d=(0,t.DF)(),l=(0,o.A)(d,1)[0],A=(0,c.useState)(r),E=(0,o.A)(A,2),f=E[0],g=E[1],h=(0,c.useState)(!1),C=(0,o.A)(h,2),b=C[0],m=C[1],p=(0,c.useRef)(null),q=(0,c.useCallback)((function(n){m(!1),l.update((function(){var r=(0,a.ns)(u);(0,B.R_)(r)&&(r.setEquation(f),n&&r.selectNext(0,0))}))}),[l,f,u]);return(0,c.useEffect)((function(){b||f===r||g(r)}),[b,r,f]),(0,c.useEffect)((function(){return b?(0,i.Sd)(l.registerCommand(a.Mv,(function(n){var r=document.activeElement;return p.current!==r&&q(),!1}),a.Wg),l.registerCommand(a.Q$,(function(n){var r=document.activeElement;return p.current===r&&(q(!0),!0)}),a.Wg)):l.registerUpdateListener((function(n){n.editorState.read((function(){var n=(0,a.vJ)();return(0,a.RT)(n)&&n.has(u)&&1===n.getNodes().length}))&&m(!0)}))}),[l,u,q,b]),(0,S.jsx)(S.Fragment,{children:b?(0,S.jsx)(v,{equation:f,setEquation:g,inline:e,ref:p}):(0,S.jsx)(s.ErrorBoundary,{onError:function(n){return l._onError(n)},fallback:null,children:(0,S.jsx)(x.A,{equation:f,inline:e,onDoubleClick:function(){return m(!0)}})})})}},2993:(n,r,e)=>{e.d(r,{A:()=>c});var o=e(1354),t=e.n(o),i=e(6314),a=e.n(i)()(t());a.push([n.id,"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n */\n\n.EquationEditor_inlineEditor {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  outline: 0;\n  color: #8421a2;\n  background-color: inherit;\n  resize: none;\n}\n\n.EquationEditor_blockEditor {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  outline: 0;\n  color: #8421a2;\n  background-color: inherit;\n  resize: none;\n  width: 100%;\n}\n\n.EquationEditor_inputBackground {\n  background-color: #eee;\n}\n\n.EquationEditor_dollarSign {\n  text-align: left;\n  color: #b0b0b0;\n}\n","",{version:3,sources:["webpack://./src/LexicalEditor/ui/EquationEditor.css"],names:[],mappings:"AAAA;;;;;;;EAOE;;AAEF;EACE,UAAU;EACV,SAAS;EACT,SAAS;EACT,UAAU;EACV,cAAc;EACd,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,UAAU;EACV,SAAS;EACT,SAAS;EACT,UAAU;EACV,cAAc;EACd,yBAAyB;EACzB,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,cAAc;AAChB",sourcesContent:["/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n *\r\n */\r\n\r\n.EquationEditor_inlineEditor {\r\n  padding: 0;\r\n  margin: 0;\r\n  border: 0;\r\n  outline: 0;\r\n  color: #8421a2;\r\n  background-color: inherit;\r\n  resize: none;\r\n}\r\n\r\n.EquationEditor_blockEditor {\r\n  padding: 0;\r\n  margin: 0;\r\n  border: 0;\r\n  outline: 0;\r\n  color: #8421a2;\r\n  background-color: inherit;\r\n  resize: none;\r\n  width: 100%;\r\n}\r\n\r\n.EquationEditor_inputBackground {\r\n  background-color: #eee;\r\n}\r\n\r\n.EquationEditor_dollarSign {\r\n  text-align: left;\r\n  color: #b0b0b0;\r\n}\r\n"],sourceRoot:""}]);const c=a}}]);
//# sourceMappingURL=23.lexical.embed.js.map