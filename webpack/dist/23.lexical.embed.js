"use strict";(self.webpackChunkeditor_webpack=self.webpackChunkeditor_webpack||[]).push([[23],{6023:(n,e,o)=>{o.r(e),o.d(e,{default:()=>j});var t=o(5544),r=o(4439),i=o(3105),a=o(8832),c=o(6540),s=o(4740),u=o(5072),d=o.n(u),l=o(7825),A=o.n(l),E=o(7659),f=o.n(E),g=o(5056),h=o.n(g),C=o(540),b=o.n(C),m=o(1113),p=o.n(m),q=o(2993),k={};k.styleTagTransform=p(),k.setAttributes=h(),k.insert=f().bind(null,"head"),k.domAPI=A(),k.insertStyleElement=b(),d()(q.A,k),q.A&&q.A.locals&&q.A.locals;var S=o(4848);function _(n,e){var o=n.equation,t=n.setEquation,r=function(n){t(n.target.value)};return n.inline&&e instanceof HTMLInputElement?(0,S.jsxs)("span",{className:"EquationEditor_inputBackground",children:[(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"$"}),(0,S.jsx)("input",{className:"EquationEditor_inlineEditor",value:o,onChange:r,autoFocus:!0,ref:e}),(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"$"})]}):(0,S.jsxs)("div",{className:"EquationEditor_inputBackground",children:[(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"$$\n"}),(0,S.jsx)("textarea",{className:"EquationEditor_blockEditor",value:o,onChange:r,ref:e}),(0,S.jsx)("span",{className:"EquationEditor_dollarSign",children:"\n$$"})]})}const v=(0,c.forwardRef)(_);var x=o(9034),B=o(231);function j(n){var e=n.equation,o=n.inline,u=n.nodeKey,d=(0,r.DF)(),l=(0,t.A)(d,1)[0],A=(0,c.useState)(e),E=(0,t.A)(A,2),f=E[0],g=E[1],h=(0,c.useState)(!1),C=(0,t.A)(h,2),b=C[0],m=C[1],p=(0,c.useRef)(null),q=(0,c.useCallback)((function(n){m(!1),l.update((function(){var e=(0,a.ns)(u);(0,B.R_)(e)&&(e.setEquation(f),n&&e.selectNext(0,0))}))}),[l,f,u]);return(0,c.useEffect)((function(){b||f===e||g(e)}),[b,e,f]),(0,c.useEffect)((function(){return b?(0,i.Sd)(l.registerCommand(a.Mv,(function(n){var e=document.activeElement;return p.current!==e&&q(),!1}),a.Wg),l.registerCommand(a.Q$,(function(n){var e=document.activeElement;return p.current===e&&(q(!0),!0)}),a.Wg)):l.registerUpdateListener((function(n){n.editorState.read((function(){var n=(0,a.vJ)();return(0,a.RT)(n)&&n.has(u)&&1===n.getNodes().length}))&&m(!0)}))}),[l,u,q,b]),(0,S.jsx)(S.Fragment,{children:b?(0,S.jsx)(v,{equation:f,setEquation:g,inline:o,ref:p}):(0,S.jsx)(s.ErrorBoundary,{onError:function(n){return l._onError(n)},fallback:null,children:(0,S.jsx)(x.A,{equation:f,inline:o,onDoubleClick:function(){return m(!0)}})})})}},2993:(n,e,o)=>{o.d(e,{A:()=>c});var t=o(1354),r=o.n(t),i=o(6314),a=o.n(i)()(r());a.push([n.id,"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n */\n\n.EquationEditor_inlineEditor {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  outline: 0;\n  color: #8421a2;\n  background-color: inherit;\n  resize: none;\n}\n\n.EquationEditor_blockEditor {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  outline: 0;\n  color: #8421a2;\n  background-color: inherit;\n  resize: none;\n  width: 100%;\n}\n\n.EquationEditor_inputBackground {\n  background-color: #eee;\n}\n\n.EquationEditor_dollarSign {\n  text-align: left;\n  color: #b0b0b0;\n}\n","",{version:3,sources:["webpack://./src/LexicalEditor/ui/EquationEditor.css"],names:[],mappings:"AAAA;;;;;;;EAOE;;AAEF;EACE,UAAU;EACV,SAAS;EACT,SAAS;EACT,UAAU;EACV,cAAc;EACd,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,UAAU;EACV,SAAS;EACT,SAAS;EACT,UAAU;EACV,cAAc;EACd,yBAAyB;EACzB,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,cAAc;AAChB",sourcesContent:["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n */\n\n.EquationEditor_inlineEditor {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  outline: 0;\n  color: #8421a2;\n  background-color: inherit;\n  resize: none;\n}\n\n.EquationEditor_blockEditor {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  outline: 0;\n  color: #8421a2;\n  background-color: inherit;\n  resize: none;\n  width: 100%;\n}\n\n.EquationEditor_inputBackground {\n  background-color: #eee;\n}\n\n.EquationEditor_dollarSign {\n  text-align: left;\n  color: #b0b0b0;\n}\n"],sourceRoot:""}]);const c=a}}]);
//# sourceMappingURL=23.lexical.embed.js.map